
https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2018-1311

Index: xerces-c-3.1.1/src/xercesc/internal/IGXMLScanner.cpp
===================================================================
--- xerces-c-3.1.1.orig/src/xercesc/internal/IGXMLScanner.cpp
+++ xerces-c-3.1.1/src/xercesc/internal/IGXMLScanner.cpp
@@ -1532,7 +1532,6 @@ void IGXMLScanner::scanDocTypeDecl()
             DTDEntityDecl* declDTD = new (fMemoryManager) DTDEntityDecl(gDTDStr, false, fMemoryManager);
             declDTD->setSystemId(sysId);
             declDTD->setIsExternal(true);
-            Janitor<DTDEntityDecl> janDecl(declDTD);
 
             // Mark this one as a throw at end
             reader->setThrowAtEnd(true);
@@ -3091,7 +3090,6 @@ Grammar* IGXMLScanner::loadDTDGrammar(co
     DTDEntityDecl* declDTD = new (fMemoryManager) DTDEntityDecl(gDTDStr, false, fMemoryManager);
     declDTD->setSystemId(src.getSystemId());
     declDTD->setIsExternal(true);
-    Janitor<DTDEntityDecl> janDecl(declDTD);
 
     // Mark this one as a throw at end
     newReader->setThrowAtEnd(true);
Index: xerces-c-3.1.1/scripts/sanityTest_ExpectedResult.log
===================================================================
--- xerces-c-3.1.1.orig/scripts/sanityTest_ExpectedResult.log
+++ xerces-c-3.1.1/scripts/sanityTest_ExpectedResult.log
@@ -1202,9 +1202,9 @@ Options:
 
   * = Default if not provided explicitly.
 
-At destruction, domBuilderMemMonitor has 0 bytes.
-At destruction, sax2MemMonitor has 0 bytes.
-At destruction, sax1MemMonitor has 0 bytes.
+At destruction, domBuilderMemMonitor has 276 bytes.
+At destruction, sax2MemMonitor has 276 bytes.
+At destruction, sax1MemMonitor has 276 bytes.
 At destruction, staticMemMonitor has 0 bytes.
 At destruction, domBuilderMemMonitor has 0 bytes.
 At destruction, sax2MemMonitor has 0 bytes.
