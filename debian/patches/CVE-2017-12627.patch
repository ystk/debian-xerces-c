From: Markus Koschany <apo@debian.org>
Date: Thu, 29 Mar 2018 20:58:48 +0200
Subject: CVE-2017-12627

Origin: https://svn.apache.org/viewvc?view=revision&revision=1819998
Upstream-Advisory: https://xerces.apache.org/xerces-c/secadv/CVE-2017-12627.txt
---
 src/xercesc/util/PlatformUtils.cpp | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/src/xercesc/util/PlatformUtils.cpp b/src/xercesc/util/PlatformUtils.cpp
index eee1dc5..39c71ac 100644
--- a/src/xercesc/util/PlatformUtils.cpp
+++ b/src/xercesc/util/PlatformUtils.cpp
@@ -920,7 +920,10 @@ XMLCh* XMLPlatformUtils::weavePaths(const XMLCh* const    basePath
 
     XMLString::subString(tmpBuf, basePath, 0, (basePtr - basePath + 1), manager);
     tmpBuf[basePtr - basePath + 1] = 0;
-    XMLString::catString(tmpBuf, relativePath);
+    if (relativePath)
+    {
+        XMLString::catString(tmpBuf, relativePath);
+    }
 
     removeDotSlash(tmpBuf, manager);
 
